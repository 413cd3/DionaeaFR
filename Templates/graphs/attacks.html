{% extends "base/base.html" %}

{% block title %}
Attacks
{% endblock %}
{% block scripts %}
	{% load staticfiles %}
	<script type="text/javascript" src="{% static "js/kendo.core.min.js" %}"></script>
	<script type="text/javascript" src="{% static "js/kendo.data.min.js" %}"></script>
	<script type="text/javascript" src="{% static "js/kendo.chart.min.js" %}"></script>
	<script type="text/javascript" src="{% static "js/kendo.fx.min.js" %}"></script>
{% endblock %}
{% block menu %}
	<ul class="nav nav-list">
		<li class="nav-header">Data</li>
		<li><a href="/">Connections</a></li>
		<li><a href="/downloads">Downloads</a></li>
		<li class="nav-header">Graphs</li>
		<li><a href="/graphs/protocols">Protocols</a></li>
		<li><a href="/graphs/urls">URLs</a></li>
		<li><a href="/graphs/ips">IPs</a></li>
		<li><a href="/graphs/malware">Malware</a></li>
		<li class="active"><a href="/graphs/attacks">Attacks</a></li>
		<li class="nav-header">Maps</li>
		<li><a href="/maps/attackers">Attackers</a></li>
		<li><a href="/maps/countries">Countries</a></li>
	</ul>
{% endblock %}
{% block titlecontent %}
Attacks
{% endblock %}
{% block content %}
	<div class="span10" id="chart">
		{{ chartActivity }}
	</div>
{% endblock %}
{% block info %}
	<div class="alert alert-info" id="info">
		Last 7 days.
	</div>
{% endblock %}
{% block Lastscripts %}
	<script type="text/javascript">
		function Attacks() {
		    $("#chart").kendoChart({
		        dataSource: {
		            transport: {
		                read: {
		                    url: "/graphs/attacksdata/",
		                    dataType: "json"
		                }
		            }
		        },
		        autoBind: true,
		        title: {
		            text: "Attacks on last 7 days"
		        },
		        legend: {
		            visible: false
		        },
		        series: [{
		            type: "line",
		            color: "#6E009E",
		            field: "value"
		        }],
		        axisDefaults: {
		            labels: {
		                font: "13px Tahoma, sans-serif"
		            }
		        },
		        valueAxis: {
		            labels: {
		                format: "{0:N0}"
		            }
		        },
		        categoryAxis: {
		            field: "day",
		        },
		        tooltip: {
		            visible: true,
		            format: "{0:N0}"
		        },
		        chartArea: {
		            background: ""
		        }
		    });
		}
		$(document).ready(function() { Attacks(); });
	</script>
{% endblock %}